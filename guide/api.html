<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>创建Token | 哪吒监控</title>
    <meta name="description" content="哪吒监控是一个轻量化的运维工具">
    <link rel="stylesheet" href="/assets/style.17a88c2e.css">
    <link rel="modulepreload" href="/assets/app.2c402e15.js">
    <link rel="modulepreload" href="/assets/guide_api.md.00182bb5.lean.js">
    
    <meta name="twitter:title" content="创建Token | 哪吒监控">
  <meta property="og:title" content="创建Token | 哪吒监控">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="哪吒监控, back to home" data-v-675d8756 data-v-cc01ef16><!----> 哪吒监控</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/" data-v-b8818f8c>使用指南 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/developer/index" data-v-b8818f8c>开发手册 <!----></a></div></div><!--]--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Languages</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/guide/api.html" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>简体中文</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/en_US/guide/api.html" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>English</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/nezhahq/nezhahq.github.io" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/" data-v-b8818f8c>使用指南 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/developer/index" data-v-b8818f8c>开发手册 <!----></a></div></div><!--]--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>Languages</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/guide/api.html" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>简体中文</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/en_US/guide/api.html" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>English</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/nezhahq/nezhahq.github.io" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">安装手册</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/dashboard">安装 Dashboard</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/agent">安装 Agent</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">管理面板配置</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/servers">主机</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/services">服务</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/tasks">定时任务</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/notifications">报警通知</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/settings">设置</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/guide/api">API</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#创建token">创建Token</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#认证方式">认证方式</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#使用说明">使用说明</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">常见问题</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/q1">TG api被墙</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/q2">Agent 启动/上线 问题自检流程</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/q3">如何反向代理 gRPC 端口</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/q4">实时通道断开/在线终端连接失败</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/q5">如何进行数据迁移、备份恢复？</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">排障指南</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/dashboardq">Dashboard相关</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/agentq">Agent相关</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/guide/loginq">登陆相关</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p><strong>哪吒面板现在已经支持使用API接口查询面板中Agent的状态信息</strong></p><h2 id="创建token" tabindex="-1">创建Token <a class="header-anchor" href="#创建token" aria-hidden="true">#</a></h2><p>哪吒面板的API接口允许使用Token认证与Cookies认证<br> 要新建一个Token，在进入管理面板后，点击右上角的头像，选择 “API Token”，进入Token管理页面<br> 点击 “添加Token”，自定义备注后，点击 “添加”<br> 如需删除一个Token，请选择相应的Token，点击右侧的删除图标</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Token是API接口的鉴权工具，它对你的面板的信息安全非常重要，请不要泄漏你的Token给他人</p></div><h2 id="认证方式" tabindex="-1">认证方式 <a class="header-anchor" href="#认证方式" aria-hidden="true">#</a></h2><p>Token认证方式：</p><div class="language-"><pre><code>Request Headers:  
Authorization: Token
</code></pre></div><h2 id="使用说明" tabindex="-1">使用说明 <a class="header-anchor" href="#使用说明" aria-hidden="true">#</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>下面示例中的负数时间戳为（0000-00-00）<br> 目前表示Dashboard上线后该Agent从未汇报过<br> 但不建议用正负性判断状态</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><strong>请求方式为 <code>Get</code>，返回格式为 <code>JSON</code></strong></p></div><ul><li>获取服务器列表：<code>GET /api/v1/server/list?tag=</code><br> query: tag (ServerTag是服务器的分组，提供此参数则仅查询该分组中的服务器)</li></ul><p>JSON返回示例：</p><div class="language-"><pre><code>{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;result&quot;: [
        {
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;Server1&quot;,
            &quot;tag&quot;: &quot;Tag1&quot;,
            &quot;last_active&quot;: 1653014667,
            &quot;ipv4&quot;: &quot;1.1.1.1&quot;,
            &quot;ipv6&quot;: &quot;&quot;,
            &quot;valid_ip&quot;: &quot;1.1.1.1&quot;
        },
        {
            &quot;id&quot;: 2,
            &quot;name&quot;: &quot;Server2&quot;,
            &quot;tag&quot;: &quot;Tag2&quot;,
            &quot;last_active&quot;: -62135596800,
            &quot;ipv4&quot;: &quot;&quot;,
            &quot;ipv6&quot;: &quot;&quot;,
            &quot;valid_ip&quot;: &quot;&quot;
        }
    ]
}
</code></pre></div><ul><li>获取服务器详情：<code>GET /api/v1/server/details?id=&amp;tag=</code><br> query: id (ServerID 多个ID以逗号分隔，提供此参数则查询该ID对应的服务器，同时无视tag参数)<br> query: tag (ServerTag 提供此参数则仅查询该分组下的服务器)</li></ul><p>JSON返回示例：</p><div class="language-"><pre><code>{
    &quot;code&quot;: 0,
    &quot;message&quot;: &quot;success&quot;,
    &quot;result&quot;: [
        {
            &quot;id&quot;: 1,
            &quot;name&quot;: &quot;Server1&quot;,
            &quot;tag&quot;: &quot;Tag1&quot;,
            &quot;last_active&quot;: 1653015042,
            &quot;ipv4&quot;: &quot;1.1.1.1&quot;,
            &quot;ipv6&quot;: &quot;&quot;,
            &quot;valid_ip&quot;: &quot;1.1.1.1&quot;,
            &quot;host&quot;: {
                &quot;Platform&quot;: &quot;darwin&quot;,
                &quot;PlatformVersion&quot;: &quot;12.3.1&quot;,
                &quot;CPU&quot;: [
                    &quot;Apple M1 Pro 1 Physical Core&quot;
                ],
                &quot;MemTotal&quot;: 17179869184,
                &quot;DiskTotal&quot;: 2473496842240,
                &quot;SwapTotal&quot;: 0,
                &quot;Arch&quot;: &quot;arm64&quot;,
                &quot;Virtualization&quot;: &quot;&quot;,
                &quot;BootTime&quot;: 1652683962,
                &quot;CountryCode&quot;: &quot;hk&quot;,
                &quot;Version&quot;: &quot;&quot;
            },
            &quot;status&quot;: {
                &quot;CPU&quot;: 17.330210772540017,
                &quot;MemUsed&quot;: 14013841408,
                &quot;SwapUsed&quot;: 0,
                &quot;DiskUsed&quot;: 2335048912896,
                &quot;NetInTransfer&quot;: 2710273234,
                &quot;NetOutTransfer&quot;: 695454765,
                &quot;NetInSpeed&quot;: 10806,
                &quot;NetOutSpeed&quot;: 5303,
                &quot;Uptime&quot;: 331080,
                &quot;Load1&quot;: 5.23486328125,
                &quot;Load5&quot;: 4.873046875,
                &quot;Load15&quot;: 3.99267578125,
                &quot;TcpConnCount&quot;: 195,
                &quot;UdpConnCount&quot;: 70,
                &quot;ProcessCount&quot;: 437
            }
        },
        {
            &quot;id&quot;: 2,
            &quot;name&quot;: &quot;Server2&quot;,
            &quot;tag&quot;: &quot;Tag2&quot;,
            &quot;last_active&quot;: -62135596800,
            &quot;ipv4&quot;: &quot;&quot;,
            &quot;ipv6&quot;: &quot;&quot;,
            &quot;valid_ip&quot;: &quot;&quot;,
            &quot;host&quot;: {
                &quot;Platform&quot;: &quot;&quot;,
                &quot;PlatformVersion&quot;: &quot;&quot;,
                &quot;CPU&quot;: null,
                &quot;MemTotal&quot;: 0,
                &quot;DiskTotal&quot;: 0,
                &quot;SwapTotal&quot;: 0,
                &quot;Arch&quot;: &quot;&quot;,
                &quot;Virtualization&quot;: &quot;&quot;,
                &quot;BootTime&quot;: 0,
                &quot;CountryCode&quot;: &quot;&quot;,
                &quot;Version&quot;: &quot;&quot;
            },
            &quot;status&quot;: {
                &quot;CPU&quot;: 0,
                &quot;MemUsed&quot;: 0,
                &quot;SwapUsed&quot;: 0,
                &quot;DiskUsed&quot;: 0,
                &quot;NetInTransfer&quot;: 0,
                &quot;NetOutTransfer&quot;: 0,
                &quot;NetInSpeed&quot;: 0,
                &quot;NetOutSpeed&quot;: 0,
                &quot;Uptime&quot;: 0,
                &quot;Load1&quot;: 0,
                &quot;Load5&quot;: 0,
                &quot;Load15&quot;: 0,
                &quot;TcpConnCount&quot;: 0,
                &quot;UdpConnCount&quot;: 0,
                &quot;ProcessCount&quot;: 0
            }
        }
    ]
}
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><a class="link" href="https://github.com/nezhahq/nezhahq.github.io/edit/main/docs/guide/api.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>在GitHub中编辑 <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/guide/settings" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>设置</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/guide/q1" data-v-38ede35f><span class="text" data-v-38ede35f>TG api被墙</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"developer_index.md\":\"ee592849\",\"developer_l10n.md\":\"5bac23a7\",\"developer_theme.md\":\"0248c1c7\",\"en_us_developer_index.md\":\"b71cc532\",\"en_us_developer_l10n.md\":\"9753d10a\",\"en_us_developer_theme.md\":\"9b8e6231\",\"en_us_guide_agent.md\":\"076cfc62\",\"en_us_guide_agentq.md\":\"fc681108\",\"en_us_guide_api.md\":\"d2e082d0\",\"en_us_guide_dashboard.md\":\"1b96296b\",\"en_us_guide_dashboardq.md\":\"12f00603\",\"en_us_guide_loginq.md\":\"fccba1cc\",\"en_us_guide_notifications.md\":\"4edbd002\",\"en_us_guide_q2.md\":\"a230a9b9\",\"en_us_guide_q3.md\":\"8d0aa8e5\",\"en_us_guide_q4.md\":\"62e807a2\",\"en_us_guide_q5.md\":\"0a1d56d0\",\"en_us_guide_servers.md\":\"2fa6797d\",\"en_us_guide_services.md\":\"06fcb74e\",\"en_us_guide_settings.md\":\"252f768c\",\"en_us_guide_tasks.md\":\"5a8f357d\",\"en_us_index.md\":\"c8719a21\",\"guide_agent.md\":\"6cfbf09e\",\"guide_agentq.md\":\"8f3e39d8\",\"guide_api.md\":\"00182bb5\",\"guide_dashboard.md\":\"a8a51b7a\",\"guide_dashboardq.md\":\"84fd553d\",\"guide_loginq.md\":\"d018cda9\",\"guide_notifications.md\":\"ac3a804b\",\"guide_q1.md\":\"60864821\",\"guide_q2.md\":\"9519d1ef\",\"guide_q3.md\":\"278a14da\",\"guide_q4.md\":\"49995c8a\",\"guide_q5.md\":\"ef18e2c9\",\"guide_servers.md\":\"f21f9777\",\"guide_services.md\":\"c286c180\",\"guide_settings.md\":\"978f81fd\",\"guide_tasks.md\":\"fac6c260\",\"index.md\":\"2c78f74e\"}")</script>
    <script type="module" async src="/assets/app.2c402e15.js"></script>
    
  </body>
</html>